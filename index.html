<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine üíñ</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
body {
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
  background:#f2f2f7;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  overflow:hidden;
}

/* CHAT */
#chat{
  display:flex;
  flex-direction:column;
  width:100%;
  max-width:390px;
  height:100vh;
  padding:10px;
  background:#f2f2f7;
  border-radius:10px;
  box-shadow:0 4px 15px rgba(0,0,0,0.2);
}
.header{
  text-align:center;
  font-weight:600;
  margin-bottom:10px;
  color:#111;
  font-size:1.2rem;
}
.chat-area{
  flex:1;
  overflow-y:auto;
  display:flex;
  flex-direction:column;
}
.bubble{
  max-width:70%;
  padding:10px 14px;
  border-radius:18px;
  margin:6px 0;
  line-height:1.3;
  opacity:0;
  animation:fadeIn .3s ease forwards;
  word-wrap:break-word;
}
.me{
  align-self:flex-end;
  background:#d1d1d6;
  color:#000;
  border-bottom-right-radius:4px;
  box-shadow:0 1px 3px rgba(0,0,0,0.2);
}
.time{
  font-size:.7rem;
  margin:2px 0;
  color:#555;
}

/* QUESTION CARD */
#card{
  position:fixed;
  inset:0;
  display:none;
  justify-content:center;
  align-items:center;
  background:radial-gradient(circle at top,#ff9aa2,#ff4d6d);
}
.cardBox{
  background:rgba(255,255,255,.15);
  backdrop-filter:blur(14px);
  border-radius:24px;
  padding:28px;
  text-align:center;
  width:90%;
  max-width:360px;
  color:#fff;
  box-shadow:0 4px 15px rgba(0,0,0,0.3);
}
h1{
  font-size:1.8rem;
  margin-bottom:20px;
}
.buttons{
  position:relative;
  height:90px;
}
button{
  border:none;
  padding:12px 26px;
  border-radius:999px;
  font-size:1rem;
  cursor:pointer;
  transition:.3s ease;
  box-shadow:0 6px 15px rgba(0,0,0,0.3);
}
#yesBtn{
  background:linear-gradient(135deg,#ff758f,#ff4d6d);
  color:#fff;
}
#noBtn{
  position:absolute;
  background:#fff;
  color:#ff4d6d;
  left:50%;
  transform:translateX(-50%);
}

/* FINAL SCREEN */
.screen{
  position:fixed;
  inset:0;
  display:none;
  justify-content:center;
  align-items:center;
  text-align:center;
  padding:30px;
  font-size:1.2rem;
  z-index:10;
}
#yesScreen{
  background:linear-gradient(135deg,#ff758f,#ff1e56);
  color:#fff;
}
#yesScreen h2{
  margin-bottom:15px;
  font-size:1.5rem;
}
#yesScreen p{
  margin-bottom:10px;
  font-size:1.1rem;
  font-weight:500;
}

/* HEARTS */
.heart{
  position:absolute;
  font-size:20px;
  animation:float 5s linear infinite;
  opacity:.8;
}

@keyframes float{
  to{transform:translateY(-120vh);opacity:0;}
}
@keyframes fadeIn{
  to{opacity:1;}
}

/* VIDEO POPUP */
.videoPop{
  position:fixed;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  width:80%;
  max-width:350px;
  border-radius:12px;
  z-index:50;
  display:none;
  box-shadow:0 8px 25px rgba(0,0,0,0.5);
}
</style>
</head>
<body>

<!-- CHAT -->
<div id="chat">
  <div class="header">Sophia</div>
  <div class="chat-area" id="chatArea"></div>
</div>

<!-- QUESTION -->
<div id="card">
  <div class="cardBox">
    <h1>Sophia, will you be my Valentine? üíñ</h1>
    <div class="buttons">
      <button id="yesBtn">Yes üíï</button>
      <button id="noBtn">No üòè</button>
    </div>
  </div>
</div>

<!-- YES SCREEN -->
<div id="yesScreen" class="screen">
  <div class="p-3 rounded" style="background:rgba(255,255,255,0.15);backdrop-filter:blur(12px);box-shadow:0 6px 15px rgba(0,0,0,0.3);">
    <h2>üíå Invitation üíå</h2>
    <p>Awesome! Since you said yes, I guess that makes you stuck with me as my Valentine üíñ</p>
    <p>Save the Date: February 15, 2026</p>
    <p style="opacity:.8;font-size:1rem;">üì∏ Screenshot so you won't forget</p>
  </div>
</div>

<!-- Video popup -->
<video id="memeVideo" class="videoPop" autoplay muted></video>

<!-- Sounds -->
<audio id="sadSound" src="media/sad.mp3"></audio>
<audio id="yesSound" src="media/yes.mp3"></audio>

<script>
// CHAT FLOW (Daniel is the only one texting)
const chatArea=document.getElementById("chatArea");
const chat=document.getElementById("chat");
const card=document.getElementById("card");
const yesScreen=document.getElementById("yesScreen");
const yesBtn=document.getElementById("yesBtn");
const noBtn=document.getElementById("noBtn");
const memeVideo=document.getElementById("memeVideo");
const sadSound=document.getElementById("sadSound");
const yesSound=document.getElementById("yesSound");

let yesScale=1;
let noClickCount=0;

// Daniel's messages
const messages=[
  "Hi Sophia üòä",
  "I‚Äôve been thinking about you‚Ä¶",
  "I hope this isn‚Äôt too forward‚Ä¶",
  "But I really wanted to ask you something important",
  "Will you be my Valentine?"
];

function addMessage(text){
  const bubble=document.createElement("div");
  bubble.className="bubble me";
  bubble.textContent=text;
  chatArea.appendChild(bubble);
  const time=document.createElement("div");
  time.className="time";
  time.textContent=new Date().toLocaleTimeString([], {hour:'2-digit',minute:'2-digit'});
  chatArea.appendChild(time);
  chatArea.scrollTop=chatArea.scrollHeight;
}

async function startChat(){
  for(let i=0;i<messages.length;i++){
    addMessage(messages[i]);
    await new Promise(r=>setTimeout(r,800));
  }
  setTimeout(()=>{chat.style.display="none";card.style.display="flex"},800);
}

startChat();

// NO button behavior
function moveNo(){
  const x=Math.random()*(window.innerWidth-120);
  const y=Math.random()*(window.innerHeight-120);
  noBtn.style.left=x+"px";
  noBtn.style.top=y+"px";

  yesScale+=0.15;
  yesBtn.style.transform=`scale(${yesScale})`;

  noClickCount++;
  if(noClickCount%3===0){
    memeVideo.src='media/sad.mp4';
    memeVideo.style.display='block';
    memeVideo.play();
    sadSound.play();
    setTimeout(()=>{
      memeVideo.pause();
      memeVideo.style.display='none';
    },3500);
  }
}
noBtn.addEventListener("mouseover",moveNo);
noBtn.addEventListener("touchstart",moveNo);
noBtn.addEventListener("click",moveNo);

// YES button
yesBtn.addEventListener("click",()=>{
  yesScreen.style.display="flex";
  card.style.display="none";
  yesSound.play();
  memeVideo.src='media/yes.mp4';
  memeVideo.style.display='block';
  memeVideo.play();
  setTimeout(()=>{
    memeVideo.pause();
    memeVideo.style.display='none';
  },3500);
});

// FLOATING HEARTS
function heart(){
  const h=document.createElement("div");
  h.className="heart";
  h.innerHTML="‚ù§Ô∏è";
  h.style.left=Math.random()*100+"vw";
  h.style.bottom="-20px";
  h.style.fontSize=Math.random()*20+15+"px";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),5000);
}
setInterval(heart,400);
</script>
</body>
</html>
